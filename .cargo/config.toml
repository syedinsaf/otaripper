
[target.x86_64-unknown-linux-gnu]
rustflags = [
    "-C", "target-cpu=x86-64"
    # Do NOT force +crt-static on glibc: dynamic linking avoids hard ISA requirements
    #"-C", "target-feature=+crt-static"
    # Build GNU/Linux target dynamically to avoid pulling in static glibc/liblzma objects
    # that may require x86-64-v4 (AVX-512) on some toolchains/cdistros.
]

[target.x86_64-unknown-linux-musl]
rustflags = [
    "-C", "target-cpu=x86-64",
    "-C", "target-feature=+crt-static"
]
[target.x86_64-pc-windows-msvc]
rustflags = [
    "-C", "target-cpu=x86-64",
    "-C", "target-feature=+crt-static"
]

[target.x86_64-pc-windows-gnu]
rustflags = [
    "-C", "target-cpu=x86-64",
    "-C", "target-feature=+crt-static"
]

# Android cross-compilation (You may have to this configure based on your system)

[target.aarch64-linux-android]
ar = "/opt/android-ndk/toolchains/llvm/prebuilt/linux-x86_64/bin/llvm-ar"
linker = "/opt/android-ndk/toolchains/llvm/prebuilt/linux-x86_64/bin/aarch64-linux-android21-clang"

[env]
CC_aarch64_linux_android = "/opt/android-ndk/toolchains/llvm/prebuilt/linux-x86_64/bin/aarch64-linux-android21-clang"
AR_aarch64_linux_android = "/opt/android-ndk/toolchains/llvm/prebuilt/linux-x86_64/bin/llvm-ar"

